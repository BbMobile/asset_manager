<%= render :template => 'shared/navbar' %>

<h2 style="text-align: center;">Edit <%= @asset.name %> Asset</h2>
<form method="get" class="well" action="/assets/update">
  <table class="table table-striped" width="100%">
    <tr><td>Name</td>
      <td><%=  text_field('name','name' ,{:value => @asset.name}) %></td>
    </tr>
    <tr>
      <td>Description</td>
      <td><%=  text_area('description','description',{:rows => 15,:cols => 40,:value => @asset.name}) %></td>
    </tr>
    <%  AssetType.find(@asset.asset_type_id).asset_screen.each do |assetScreenField| %>
        <tr>
          <%= render :template => 'shared/fields/edit/'+FieldType.find(Field.find(assetScreenField.field_id).field_type_id).type_name.downcase.gsub(' ','_')+'_edit' ,
                     :locals => { :field_name => Field.find(assetScreenField.field_id).name, :field_id  => assetScreenField.field_id,
                                  :value => @asset.field_value.find(BSON::ObjectId.from_string(assetScreenField.field_id))} %>
        </tr>
    <% end%>
    <%= hidden_field('asset', 'asset_id',:value=> @asset.id) %>
  </table>
  <div class="modal-footer" style="text-align: center;">

    <%= submit_tag "Update" ,:class => 'btn btn-primary'%>
    <a data-toggle="modal" href="#myCreateAssetModal" class="btn secondary">No</a>
  </div>
</form>